---
sidebar_position: 3
---

# 8.3 RocketMQ

## 消息模式
- 同步/异步/单向发送
- 顺序消息：同Key映射同队列
- 广播/集群消费

## 事务消息
- 半消息 + 回查机制
- 本地事务执行成功后提交

## 顺序消息
- 局部有序：按业务键路由到同队列
- 消费端单线程/有序消费

## 延时消息
- 预设延时等级（如Level 1..18）
- 定时投递与重试

## 调优要点
- 队列数与并发度
- 批量发送与压缩
- Broker刷盘与刷写策略

## 面试题
1. 事务消息原理与回查流程
2. 如何实现局部有序与幂等
3. 延时消息等级与适用场景
4. RocketMQ与Kafka的差异
5. 消息堆积与顺序消费的权衡 